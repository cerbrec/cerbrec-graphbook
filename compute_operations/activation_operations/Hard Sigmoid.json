{
   "name": "Hard Sigmoid",
   "type": "COMPOSITE_OPERATION",
   "inputs": [
     {
       "name": "Input",
       "data": [6.0],
       "shape": [1],
       "type": "DECIMAL",
       "primitive_name": "Input",
       "flow_state": "BOOT_SOURCE"
     }
   ],
   "outputs": [
     {
       "name": "Output",
       "shape": [1],
       "type": "DECIMAL",
       "primitive_name": "Output",
       "flow_state": "UNBOUND"
     }
   ],
   "description": {
       "summary": "Applies the Hardsigmoid function element-wise.",
       "formula": "Hardsigmoid(x) = { 0 if x ≤ -3, 1 if x ≥ +3, x/6 + 1/2 otherwise}",
       "parameters": {
         "inplace": {
           "description": "Can optionally do the operation in-place.",
           "type": "bool",
           "default": false
         }
       } 
     },
   "operations": [
     {
       "name": "get_shape",
       "primitive_name": "get_shape",
       "type": "PRIMITIVE_OPERATION",
       "position": { "x": 279, "y": 470 },
       "inputs": [
         {
           "name": "input",
           "shape": [1],
           "type": "DECIMAL",
           "primitive_name": "input",
           "flow_state": "BOOT_SINK"
         }
       ],
       "outputs": [
         {
           "name": "shape",
           "shape": [1],
           "type": "INTEGER",
           "primitive_name": "shape",
           "flow_state": "UNBOUND"
         }
       ]
     },
     {
       "name": "Positive Three",
       "primitive_name": "broadcast_to_shape",
       "type": "PRIMITIVE_OPERATION",
       "position": { "x": 870, "y": 424 },
       "inputs": [
         {
           "name": "target",
           "data": 3.0,
           "shape": [],
           "type": "DECIMAL",
           "primitive_name": "target",
           "flow_state": "BOOT_SOURCE"
         },
         {
           "name": "shape",
           "shape": [1],
           "type": "INTEGER",
           "primitive_name": "shape",
           "flow_state": "REF_SINK"
         }
       ],
       "outputs": [
         {
           "name": "result",
           "shape": [1],
           "type": "DECIMAL",
           "primitive_name": "result",
           "flow_state": "UNBOUND"
         }
       ]
     },
     {
       "name": "Greater Than Three",
       "primitive_name": "greater_than",
       "type": "PRIMITIVE_OPERATION",
       "position": { "x": 1399, "y": 182 },
       "inputs": [
         {
           "name": "left_operand",
           "shape": [1],
           "type": "DECIMAL",
           "primitive_name": "left_operand",
           "flow_state": "BOOT_SINK"
         },
         {
           "name": "right_operand",
           "shape": [1],
           "type": "DECIMAL",
           "primitive_name": "right_operand",
           "flow_state": "REF_SINK"
         }
       ],
       "outputs": [
         {
           "name": "is_greater_than",
           "shape": [1],
           "type": "BOOLEAN",
           "primitive_name": "is_greater_than",
           "flow_state": "UNBOUND"
         }
       ]
     },
     {
       "name": "Negative Three",
       "primitive_name": "broadcast_to_shape",
       "type": "PRIMITIVE_OPERATION",
       "position": { "x": 872, "y": 592 },
       "inputs": [
         {
           "name": "target",
           "data": -3.0,
           "shape": [],
           "type": "DECIMAL",
           "primitive_name": "target",
           "flow_state": "BOOT_SOURCE"
         },
         {
           "name": "shape",
           "shape": [1],
           "type": "INTEGER",
           "primitive_name": "shape",
           "flow_state": "REF_SINK"
         }
       ],
       "outputs": [
         {
           "name": "result",
           "shape": [1],
           "type": "DECIMAL",
           "primitive_name": "result",
           "flow_state": "UNBOUND"
         }
       ]
     },
     {
       "name": "Less Than Negative Three",
       "primitive_name": "less_than",
       "type": "PRIMITIVE_OPERATION",
       "position": { "x": 1398, "y": 363 },
       "inputs": [
         {
           "name": "left_operand",
           "shape": [1],
           "type": "DECIMAL",
           "primitive_name": "left_operand",
           "flow_state": "BOOT_SINK"
         },
         {
           "name": "right_operand",
           "shape": [1],
           "type": "DECIMAL",
           "primitive_name": "right_operand",
           "flow_state": "REF_SINK"
         }
       ],
       "outputs": [
         {
           "name": "is_less_than",
           "shape": [1],
           "type": "BOOLEAN",
           "primitive_name": "is_less_than",
           "flow_state": "UNBOUND"
         }
       ]
     },
     {
       "name": "Return Result",
       "type": "COMPOSITE_OPERATION",
       "position": { "x": 1972, "y": 42 },
       "inputs": [
         {
           "name": "less_than_neg_three_",
           "shape": [1],
           "type": "BOOLEAN",
           "primitive_name": "Input",
           "flow_state": "REF_SINK"
         },
         {
           "name": "greater_than_three",
           "shape": [1],
           "type": "BOOLEAN",
           "primitive_name": "Input (1)",
           "flow_state": "REF_SINK"
         },
         {
           "name": "array",
           "shape": [1],
           "type": "DECIMAL",
           "primitive_name": "Input",
           "flow_state": "BOOT_SINK"
         }
       ],
       "input_order": [2, 1, 0],
       "outputs": [
         {
           "name": "Output",
           "shape": [1],
           "type": "DECIMAL",
           "primitive_name": "Output",
           "flow_state": "UNBOUND"
         }
       ],
       "operations": [
         {
           "name": "Broadcast Zero to Shape of Array",
           "type": "COMPOSITE_OPERATION",
           "position": { "x": 642, "y": 111 },
           "inputs": [
             {
               "name": "Target",
               "data": [0.0],
               "shape": [1],
               "type": "DECIMAL",
               "primitive_name": "Target",
               "flow_state": "BOOT_SOURCE"
             },
             {
               "name": "Array",
               "shape": [1],
               "type": "DECIMAL",
               "primitive_name": "Array",
               "flow_state": "BOOT_SINK"
             }
           ],
           "outputs": [
             {
               "name": "Output",
               "shape": [1],
               "type": "DECIMAL",
               "primitive_name": "Output",
               "flow_state": "UNBOUND"
             }
           ],
           "operations": [
             {
               "name": "get_shape",
               "primitive_name": "get_shape",
               "type": "PRIMITIVE_OPERATION",
               "position": { "x": 601, "y": 346 },
               "inputs": [
                 {
                   "name": "input",
                   "shape": [1],
                   "type": "DECIMAL",
                   "primitive_name": "input",
                   "flow_state": "BOOT_SINK"
                 }
               ],
               "outputs": [
                 {
                   "name": "shape",
                   "shape": [1],
                   "type": "INTEGER",
                   "primitive_name": "shape",
                   "flow_state": "UNBOUND"
                 }
               ]
             },
             {
               "name": "broadcast_to_shape",
               "primitive_name": "broadcast_to_shape",
               "type": "PRIMITIVE_OPERATION",
               "position": { "x": 1097, "y": 42 },
               "inputs": [
                 {
                   "name": "target",
                   "shape": [1],
                   "type": "DECIMAL",
                   "primitive_name": "target",
                   "flow_state": "BOOT_SINK"
                 },
                 {
                   "name": "shape",
                   "shape": [1],
                   "type": "INTEGER",
                   "primitive_name": "shape",
                   "flow_state": "REF_SINK"
                 }
               ],
               "outputs": [
                 {
                   "name": "result",
                   "shape": [1],
                   "type": "DECIMAL",
                   "primitive_name": "result",
                   "flow_state": "UNBOUND"
                 }
               ]
             }
           ],
           "links": [
             {
               "source": { "operation": "this", "data": "Array" },
               "sink": { "operation": "get_shape", "data": "input" },
               "control_points": [{ "x": 427, "y": 404 }]
             },
             {
               "source": { "operation": "this", "data": "Target" },
               "sink": { "operation": "broadcast_to_shape", "data": "target" },
               "control_points": []
             },
             {
               "source": { "operation": "get_shape", "data": "shape" },
               "sink": { "operation": "broadcast_to_shape", "data": "shape" },
               "control_points": []
             }
           ]
         }
       ],
       "links": [
         {
           "source": { "operation": "Return Result", "data": "Output" },
           "sink": { "operation": "Output", "data": "Output" },
           "control_points": []
         }
       ]
     }
   ]
 }
