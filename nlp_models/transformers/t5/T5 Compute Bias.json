{"name":"T5 Compute Bias","type":"COMPOSITE_OPERATION","inputs":[{"name":"Input","primitive_name":"Input"}],"outputs":[{"name":"Pos Bias","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"Compute Relative Position Bias","type":"COMPOSITE_OPERATION","position":{"x":272,"y":162},"inputs":[{"name":"Query","primitive_name":"Input"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_dimension_size_1","primitive_name":"get_dimension_size","type":"PRIMITIVE_OPERATION","aliases":["get_dim_size","get_dimensional_size","get_dim_length","get_dimension_length","get_dimensional_length"],"position":{"x":548,"y":46},"inputs":[{"name":"array","primitive_name":"array"},{"name":"dimension_index","data":1,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"dimension_size","primitive_name":"dimension_size","flow_state":"UNBOUND"}]},{"name":"expand_one_dimension_3","primitive_name":"expand_one_dimension","type":"PRIMITIVE_OPERATION","aliases":["extend_one_dimension","increase_one_dimension"],"position":{"x":1110,"y":380},"inputs":[{"name":"input","primitive_name":"input"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"get_dimension_size","primitive_name":"get_dimension_size","type":"PRIMITIVE_OPERATION","aliases":["get_dim_size","get_dimensional_size","get_dim_length","get_dimension_length","get_dimensional_length"],"position":{"x":212,"y":440},"inputs":[{"name":"array","primitive_name":"array"},{"name":"dimension_index","data":1,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"key length","primitive_name":"dimension_size","flow_state":"UNBOUND"}]},{"name":"arange memory position","primitive_name":"range","type":"PRIMITIVE_OPERATION","aliases":[],"position":{"x":718,"y":670},"inputs":[{"name":"start_value","data":0,"shape":[],"type":"INTEGER","primitive_name":"start_value","flow_state":"BOOT_SOURCE"},{"name":"end_value","primitive_name":"end_value"},{"name":"step_value","data":1,"shape":[],"type":"INTEGER","primitive_name":"step_value","flow_state":"BOOT_SOURCE"}],"input_order":[1,0,2],"outputs":[{"name":"vector","primitive_name":"vector","flow_state":"UNBOUND"}]},{"name":"expand_one_dimension_4","primitive_name":"expand_one_dimension","type":"PRIMITIVE_OPERATION","aliases":["extend_one_dimension","increase_one_dimension"],"position":{"x":1112,"y":576},"inputs":[{"name":"input","primitive_name":"input"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"concatenate_1","primitive_name":"concatenate","type":"PRIMITIVE_OPERATION","aliases":["concat","join","merge"],"position":{"x":1517,"y":381},"inputs":[{"name":"array_1","primitive_name":"array_1"},{"name":"array_2","primitive_name":"array_2"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"concatenated_array","primitive_name":"concatenated_array","flow_state":"UNBOUND"}]},{"name":"arange context position","primitive_name":"range","type":"PRIMITIVE_OPERATION","aliases":[],"position":{"x":1252,"y":45},"inputs":[{"name":"start_value","data":0,"shape":[],"type":"INTEGER","primitive_name":"start_value","flow_state":"BOOT_SOURCE"},{"name":"end_value","primitive_name":"end_value"},{"name":"step_value","data":1,"shape":[],"type":"INTEGER","primitive_name":"step_value","flow_state":"BOOT_SOURCE"}],"input_order":[1,0,2],"outputs":[{"name":"vector","primitive_name":"vector","flow_state":"UNBOUND"}]},{"name":"expand_one_dimension_2","primitive_name":"expand_one_dimension","type":"PRIMITIVE_OPERATION","aliases":["extend_one_dimension","increase_one_dimension"],"position":{"x":1696,"y":46},"inputs":[{"name":"input","primitive_name":"input"},{"name":"dimension_index","data":1,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["tile_to_shape","expand_to_shape","extend_to_shape"],"position":{"x":2093,"y":46},"inputs":[{"name":"target","primitive_name":"target"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]},{"name":"expand_one_dimension_1","primitive_name":"expand_one_dimension","type":"PRIMITIVE_OPERATION","aliases":["extend_one_dimension","increase_one_dimension"],"position":{"x":1112,"y":810},"inputs":[{"name":"input","primitive_name":"input"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape_1","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["tile_to_shape","expand_to_shape","extend_to_shape"],"position":{"x":2061,"y":546},"inputs":[{"name":"target","primitive_name":"target"},{"name":"shape","primitive_name":"shape"}],"input_order":[1,0],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]},{"name":"subtract","primitive_name":"subtract","type":"PRIMITIVE_OPERATION","aliases":["minus","decrement"],"position":{"x":2614,"y":46},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"input_order":[1,0],"outputs":[{"name":"subtracted_result","primitive_name":"subtracted_result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"get_dimension_size","data":"key length"},"sink":{"operation":"arange memory position","data":"end_value"},"control_points":[]},{"source":{"operation":"arange memory position","data":"vector"},"sink":{"operation":"expand_one_dimension_1","data":"input"},"control_points":[]},{"source":{"operation":"get_dimension_size_1","data":"dimension_size"},"sink":{"operation":"arange context position","data":"end_value"},"control_points":[]},{"source":{"operation":"arange context position","data":"vector"},"sink":{"operation":"expand_one_dimension_2","data":"input"},"control_points":[]},{"source":{"operation":"expand_one_dimension_2","data":"output"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_dimension_size_1","data":"dimension_size"},"sink":{"operation":"expand_one_dimension_3","data":"input"},"control_points":[]},{"source":{"operation":"get_dimension_size","data":"key length"},"sink":{"operation":"expand_one_dimension_4","data":"input"},"control_points":[{"x":625,"y":632}]},{"source":{"operation":"expand_one_dimension_3","data":"output"},"sink":{"operation":"concatenate_1","data":"array_1"},"control_points":[]},{"source":{"operation":"expand_one_dimension_4","data":"output"},"sink":{"operation":"concatenate_1","data":"array_2"},"control_points":[]},{"source":{"operation":"concatenate_1","data":"concatenated_array"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"expand_one_dimension_1","data":"output"},"sink":{"operation":"broadcast_to_shape_1","data":"target"},"control_points":[]},{"source":{"operation":"concatenate_1","data":"concatenated_array"},"sink":{"operation":"broadcast_to_shape_1","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape_1","data":"result"},"sink":{"operation":"subtract","data":"left_operand"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"subtract","data":"right_operand"},"control_points":[]},{"source":{"operation":"this","data":"Query"},"sink":{"operation":"get_dimension_size_1","data":"array"},"control_points":[]},{"source":{"operation":"this","data":"Query"},"sink":{"operation":"get_dimension_size","data":"array"},"control_points":[]},{"source":{"operation":"subtract","data":"subtracted_result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"Relative Position Bucket","type":"COMPOSITE_OPERATION","position":{"x":759,"y":162},"inputs":[{"name":"relative pos","primitive_name":"Input"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"divide because bidirectional","primitive_name":"divide","type":"PRIMITIVE_OPERATION","aliases":["div"],"position":{"x":780,"y":298},"inputs":[{"name":"left_operand","shape":[],"type":"INTEGER","primitive_name":"left_operand","global_constant":"config.json.relative_attention_num_buckets"},{"name":"right_operand","data":2,"shape":[],"type":"INTEGER","primitive_name":"right_operand","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"divided_result","primitive_name":"divided_result","flow_state":"UNBOUND"}]},{"name":"Broadcast Target to Shape of Array","type":"COMPOSITE_OPERATION","position":{"x":342,"y":172},"inputs":[{"name":"Target","data":0,"shape":[],"type":"INTEGER","primitive_name":"Target","flow_state":"BOOT_SOURCE"},{"name":"Array","primitive_name":"Array"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":601,"y":346},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1097,"y":42},"inputs":[{"name":"target","shape":[],"type":"INTEGER","primitive_name":"target","flow_state":"BOOT_SINK"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[{"x":427,"y":404}]},{"source":{"operation":"this","data":"Target"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"greater_than","primitive_name":"greater_than","type":"PRIMITIVE_OPERATION","aliases":["gt","greater","larger","larger_than","bigger","bigger_than"],"position":{"x":859,"y":45},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"is_greater_than","primitive_name":"is_greater_than","flow_state":"UNBOUND"}]},{"name":"parse_integer","primitive_name":"parse_integer","type":"PRIMITIVE_OPERATION","aliases":["parse_to_integer","convert_to_integer","cast_to_integer"],"position":{"x":1352,"y":46},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"Broadcast Target to Shape of Array (1)","type":"COMPOSITE_OPERATION","position":{"x":1898,"y":299},"inputs":[{"name":"Target","primitive_name":"Target"},{"name":"Array","primitive_name":"Array"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":601,"y":346},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1097,"y":42},"inputs":[{"name":"target","primitive_name":"target"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[{"x":427,"y":404}]},{"source":{"operation":"this","data":"Target"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"element_wise_multiply","primitive_name":"element_wise_multiply","type":"PRIMITIVE_OPERATION","aliases":["times"],"position":{"x":2398,"y":45},"inputs":[{"name":"left_array","primitive_name":"left_array"},{"name":"right_array","primitive_name":"right_array"}],"outputs":[{"name":"relative_buckets","primitive_name":"multiplied_array","flow_state":"UNBOUND"}]},{"name":"absolute_value","primitive_name":"absolute_value","type":"PRIMITIVE_OPERATION","aliases":["abs"],"position":{"x":747,"y":599},"inputs":[{"name":"target","primitive_name":"target"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]},{"name":"max_exact","primitive_name":"divide","type":"PRIMITIVE_OPERATION","aliases":["div"],"position":{"x":1744,"y":506},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","data":2,"shape":[],"type":"INTEGER","primitive_name":"right_operand","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"divided_result","primitive_name":"divided_result","flow_state":"UNBOUND"}]},{"name":"broadcast max exact","type":"COMPOSITE_OPERATION","position":{"x":2346,"y":720},"inputs":[{"name":"Target","primitive_name":"Target"},{"name":"Array","primitive_name":"Array"}],"outputs":[{"name":"max_exact_broad","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":601,"y":346},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1097,"y":42},"inputs":[{"name":"target","primitive_name":"target"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[{"x":427,"y":404}]},{"source":{"operation":"this","data":"Target"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"max_exact_broad"},"control_points":[]}]},{"name":"less_than","primitive_name":"less_than","type":"PRIMITIVE_OPERATION","aliases":["lt","less","smaller","smaller_than"],"position":{"x":2824,"y":599},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"is_small","primitive_name":"is_less_than","flow_state":"UNBOUND"}]},{"name":"parse_decimal_2","primitive_name":"parse_decimal","type":"PRIMITIVE_OPERATION","aliases":["parse_to_decimal","convert_to_decimal","cast_to_decimal","parse_float","parse_to_float","convert_to_float","cast_to_float","parse_double","parse_to_double","convert_to_double","cast_to_double"],"position":{"x":2590,"y":361},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"Relative Position If Large","type":"COMPOSITE_OPERATION","position":{"x":3431,"y":431},"inputs":[{"name":"Max Exact","primitive_name":"Input"},{"name":"Num Buckets","primitive_name":"Input"},{"name":"Rel Pos Abs","primitive_name":"Input"}],"input_order":[1,2,0],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"Log(Max Dist / max exact)","type":"COMPOSITE_OPERATION","position":{"x":614,"y":46},"inputs":[{"name":"Input","primitive_name":"Input"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"parse_decimal","primitive_name":"parse_decimal","type":"PRIMITIVE_OPERATION","aliases":["parse_to_decimal","convert_to_decimal","cast_to_decimal","parse_float","parse_to_float","convert_to_float","cast_to_float","parse_double","parse_to_double","convert_to_double","cast_to_double"],"position":{"x":250,"y":407},"inputs":[{"name":"input","shape":[],"type":"INTEGER","primitive_name":"input","global_constant":"config.json.relative_attention_max_distance"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"parse_decimal_1","primitive_name":"parse_decimal","type":"PRIMITIVE_OPERATION","aliases":["parse_to_decimal","convert_to_decimal","cast_to_decimal","parse_float","parse_to_float","convert_to_float","cast_to_float","parse_double","parse_to_double","convert_to_double","cast_to_double"],"position":{"x":688,"y":300},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"divide","primitive_name":"divide","type":"PRIMITIVE_OPERATION","aliases":["div"],"position":{"x":1065,"y":401},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"divided_result","primitive_name":"divided_result","flow_state":"UNBOUND"}]},{"name":"expand_one_dimension","primitive_name":"expand_one_dimension","type":"PRIMITIVE_OPERATION","aliases":["extend_one_dimension","increase_one_dimension"],"position":{"x":1416,"y":417},"inputs":[{"name":"input","primitive_name":"input"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"Natural Logarithm","type":"COMPOSITE_OPERATION","position":{"x":1735,"y":303},"inputs":[{"name":"Input","primitive_name":"Input"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":515,"y":45},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1040,"y":135},"inputs":[{"name":"target","data":2.71828,"shape":[],"type":"DECIMAL","primitive_name":"target","flow_state":"BOOT_SOURCE"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]},{"name":"element_wise_logarithm","primitive_name":"element_wise_logarithm","type":"PRIMITIVE_OPERATION","aliases":["log"],"position":{"x":1631,"y":135},"inputs":[{"name":"base","primitive_name":"base"},{"name":"argument","primitive_name":"argument"}],"outputs":[{"name":"exponent","primitive_name":"exponent","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Input"},"sink":{"operation":"get_shape","data":"input"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"element_wise_logarithm","data":"base"},"control_points":[]},{"source":{"operation":"element_wise_logarithm","data":"exponent"},"sink":{"operation":"this","data":"Output"},"control_points":[]},{"source":{"operation":"this","data":"Input"},"sink":{"operation":"element_wise_logarithm","data":"argument"},"control_points":[{"x":431,"y":390},{"x":1536,"y":390}]}]}],"links":[{"source":{"operation":"parse_decimal_1","data":"output"},"sink":{"operation":"divide","data":"right_operand"},"control_points":[]},{"source":{"operation":"parse_decimal","data":"output"},"sink":{"operation":"divide","data":"left_operand"},"control_points":[]},{"source":{"operation":"divide","data":"divided_result"},"sink":{"operation":"expand_one_dimension","data":"input"},"control_points":[]},{"source":{"operation":"expand_one_dimension","data":"output"},"sink":{"operation":"Natural Logarithm","data":"Input"},"control_points":[]},{"source":{"operation":"this","data":"Input"},"sink":{"operation":"parse_decimal_1","data":"input"},"control_points":[]},{"source":{"operation":"Natural Logarithm","data":"Output"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"Log(Rel Pos / max exact)","type":"COMPOSITE_OPERATION","position":{"x":692,"y":472},"inputs":[{"name":"Rel Pos","primitive_name":"Input"},{"name":"Max Exact","primitive_name":"Input"}],"input_order":[1,0],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"},{"name":"Max Exact Broadcast","primitive_name":"Output (1)","flow_state":"UNBOUND"}],"output_order":[1,0],"operations":[{"name":"Broadcast Target to Shape of Array","type":"COMPOSITE_OPERATION","position":{"x":595,"y":274},"inputs":[{"name":"Target","primitive_name":"Target"},{"name":"Array","primitive_name":"Array"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":601,"y":346},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1097,"y":42},"inputs":[{"name":"target","primitive_name":"target"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[{"x":427,"y":404}]},{"source":{"operation":"this","data":"Target"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"parse_decimal","primitive_name":"parse_decimal","type":"PRIMITIVE_OPERATION","aliases":["parse_to_decimal","convert_to_decimal","cast_to_decimal","parse_float","parse_to_float","convert_to_float","cast_to_float","parse_double","parse_to_double","convert_to_double","cast_to_double"],"position":{"x":1121,"y":312},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"divide","primitive_name":"divide","type":"PRIMITIVE_OPERATION","aliases":["div"],"position":{"x":1286,"y":112},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"divided_result","primitive_name":"divided_result","flow_state":"UNBOUND"}]},{"name":"Broadcast 0s","type":"COMPOSITE_OPERATION","position":{"x":1482,"y":640},"inputs":[{"name":"Target","data":0.0,"shape":[],"type":"DECIMAL","primitive_name":"Target","flow_state":"BOOT_SOURCE"},{"name":"Array","primitive_name":"Array"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":601,"y":346},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1097,"y":42},"inputs":[{"name":"target","shape":[],"type":"DECIMAL","primitive_name":"target","flow_state":"BOOT_SINK"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[{"x":427,"y":404}]},{"source":{"operation":"this","data":"Target"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"equal","primitive_name":"equal","type":"PRIMITIVE_OPERATION","aliases":["eq"],"position":{"x":1894,"y":453},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"is_equal","primitive_name":"is_equal","flow_state":"UNBOUND"}]},{"name":"Broadcast 1s","type":"COMPOSITE_OPERATION","position":{"x":1490,"y":806},"inputs":[{"name":"Target","data":1.0E-6,"shape":[],"type":"DECIMAL","primitive_name":"Target","flow_state":"BOOT_SOURCE"},{"name":"Array","primitive_name":"Array"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":601,"y":346},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1097,"y":42},"inputs":[{"name":"target","shape":[],"type":"DECIMAL","primitive_name":"target","flow_state":"BOOT_SINK"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[{"x":427,"y":404}]},{"source":{"operation":"this","data":"Target"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"conditional_filter","primitive_name":"conditional_filter","type":"PRIMITIVE_OPERATION","aliases":["conditional_merge","replace","where"],"position":{"x":2322,"y":407},"inputs":[{"name":"condition","primitive_name":"condition"},{"name":"data_if_true","primitive_name":"data_if_true"},{"name":"data_if_false","primitive_name":"data_if_false"}],"outputs":[{"name":"output_data","primitive_name":"output_data","flow_state":"UNBOUND"}]},{"name":"Natural Logarithm","type":"COMPOSITE_OPERATION","position":{"x":2743,"y":276},"inputs":[{"name":"Input","primitive_name":"Input"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":515,"y":45},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1040,"y":135},"inputs":[{"name":"target","data":2.71828,"shape":[],"type":"DECIMAL","primitive_name":"target","flow_state":"BOOT_SOURCE"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]},{"name":"element_wise_logarithm","primitive_name":"element_wise_logarithm","type":"PRIMITIVE_OPERATION","aliases":["log"],"position":{"x":1631,"y":135},"inputs":[{"name":"base","primitive_name":"base"},{"name":"argument","primitive_name":"argument"}],"outputs":[{"name":"exponent","primitive_name":"exponent","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Input"},"sink":{"operation":"get_shape","data":"input"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"element_wise_logarithm","data":"base"},"control_points":[]},{"source":{"operation":"element_wise_logarithm","data":"exponent"},"sink":{"operation":"this","data":"Output"},"control_points":[]},{"source":{"operation":"this","data":"Input"},"sink":{"operation":"element_wise_logarithm","data":"argument"},"control_points":[{"x":431,"y":390},{"x":1536,"y":390}]}]}],"links":[{"source":{"operation":"this","data":"Rel Pos"},"sink":{"operation":"Broadcast Target to Shape of Array","data":"Array"},"control_points":[]},{"source":{"operation":"this","data":"Max Exact"},"sink":{"operation":"Broadcast Target to Shape of Array","data":"Target"},"control_points":[]},{"source":{"operation":"Broadcast Target to Shape of Array","data":"Output"},"sink":{"operation":"parse_decimal","data":"input"},"control_points":[]},{"source":{"operation":"this","data":"Rel Pos"},"sink":{"operation":"divide","data":"left_operand"},"control_points":[]},{"source":{"operation":"parse_decimal","data":"output"},"sink":{"operation":"divide","data":"right_operand"},"control_points":[]},{"source":{"operation":"parse_decimal","data":"output"},"sink":{"operation":"Broadcast 0s","data":"Array"},"control_points":[]},{"source":{"operation":"Broadcast 0s","data":"Output"},"sink":{"operation":"equal","data":"right_operand"},"control_points":[]},{"source":{"operation":"divide","data":"divided_result"},"sink":{"operation":"equal","data":"left_operand"},"control_points":[]},{"source":{"operation":"equal","data":"is_equal"},"sink":{"operation":"conditional_filter","data":"condition"},"control_points":[]},{"source":{"operation":"parse_decimal","data":"output"},"sink":{"operation":"Broadcast 1s","data":"Array"},"control_points":[]},{"source":{"operation":"Broadcast 1s","data":"Output"},"sink":{"operation":"conditional_filter","data":"data_if_true"},"control_points":[]},{"source":{"operation":"divide","data":"divided_result"},"sink":{"operation":"conditional_filter","data":"data_if_false"},"control_points":[]},{"source":{"operation":"conditional_filter","data":"output_data"},"sink":{"operation":"Natural Logarithm","data":"Input"},"control_points":[]},{"source":{"operation":"Natural Logarithm","data":"Output"},"sink":{"operation":"this","data":"Output"},"control_points":[]},{"source":{"operation":"parse_decimal","data":"output"},"sink":{"operation":"this","data":"Max Exact Broadcast"},"control_points":[]}]},{"name":"subtract","primitive_name":"subtract","type":"PRIMITIVE_OPERATION","aliases":["minus","decrement"],"position":{"x":478,"y":794},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"subtracted_result","primitive_name":"subtracted_result","flow_state":"UNBOUND"}]},{"name":"Broadcast Target to Shape of Array","type":"COMPOSITE_OPERATION","position":{"x":1385,"y":541},"inputs":[{"name":"Target","primitive_name":"Target"},{"name":"Array","primitive_name":"Array"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":601,"y":346},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1097,"y":42},"inputs":[{"name":"target","primitive_name":"target"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[{"x":427,"y":404}]},{"source":{"operation":"this","data":"Target"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"divide","primitive_name":"divide","type":"PRIMITIVE_OPERATION","aliases":["div"],"position":{"x":1769,"y":281},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"divided_result","primitive_name":"divided_result","flow_state":"UNBOUND"}]},{"name":"Broadcast Target to Shape of Array (1)","type":"COMPOSITE_OPERATION","position":{"x":1400,"y":757},"inputs":[{"name":"Target","primitive_name":"Target"},{"name":"Array","primitive_name":"Array"}],"input_order":[1,0],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":601,"y":346},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1097,"y":42},"inputs":[{"name":"target","primitive_name":"target"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[{"x":427,"y":404}]},{"source":{"operation":"this","data":"Target"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"parse_decimal","primitive_name":"parse_decimal","type":"PRIMITIVE_OPERATION","aliases":["parse_to_decimal","convert_to_decimal","cast_to_decimal","parse_float","parse_to_float","convert_to_float","cast_to_float","parse_double","parse_to_double","convert_to_double","cast_to_double"],"position":{"x":1929,"y":700},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"element_wise_multiply","primitive_name":"element_wise_multiply","type":"PRIMITIVE_OPERATION","aliases":["times"],"position":{"x":2247,"y":462},"inputs":[{"name":"left_array","primitive_name":"left_array"},{"name":"right_array","primitive_name":"right_array"}],"outputs":[{"name":"multiplied_array","primitive_name":"multiplied_array","flow_state":"UNBOUND"}]},{"name":"subtract_1","primitive_name":"subtract","type":"PRIMITIVE_OPERATION","aliases":["minus","decrement"],"position":{"x":818,"y":925},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","data":1,"shape":[],"type":"INTEGER","primitive_name":"right_operand","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"subtracted_result","primitive_name":"subtracted_result","flow_state":"UNBOUND"}]},{"name":"Broadcast Num Buckets - 1","type":"COMPOSITE_OPERATION","position":{"x":2256,"y":886},"inputs":[{"name":"Target","primitive_name":"Target"},{"name":"Array","primitive_name":"Array"}],"input_order":[1,0],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":601,"y":346},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["broadcast","tile","tile_to_shape"],"position":{"x":1097,"y":42},"inputs":[{"name":"target","primitive_name":"target"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[{"x":427,"y":404}]},{"source":{"operation":"this","data":"Target"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"parse_integer","primitive_name":"parse_integer","type":"PRIMITIVE_OPERATION","aliases":["parse_to_integer","convert_to_integer","cast_to_integer"],"position":{"x":2649,"y":463},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"parse_integer_1","primitive_name":"parse_integer","type":"PRIMITIVE_OPERATION","aliases":["parse_to_integer","convert_to_integer","cast_to_integer"],"position":{"x":2881,"y":136},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"add","primitive_name":"add","type":"PRIMITIVE_OPERATION","aliases":["plus","increment"],"position":{"x":3307,"y":273},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"added_result","primitive_name":"added_result","flow_state":"UNBOUND"}]},{"name":"Min 2 Arrays","type":"COMPOSITE_OPERATION","position":{"x":4334,"y":272},"inputs":[{"name":"Input 1","primitive_name":"Input"},{"name":"Input 2","primitive_name":"Input"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"less_than","primitive_name":"less_than","type":"PRIMITIVE_OPERATION","aliases":["lt","less","smaller","smaller_than"],"position":{"x":478,"y":166},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"is_less_than","primitive_name":"is_less_than","flow_state":"UNBOUND"}]},{"name":"conditional_filter","primitive_name":"conditional_filter","type":"PRIMITIVE_OPERATION","aliases":["conditional_merge","replace","where"],"position":{"x":1080,"y":322},"inputs":[{"name":"condition","primitive_name":"condition"},{"name":"data_if_true","primitive_name":"data_if_true"},{"name":"data_if_false","primitive_name":"data_if_false"}],"outputs":[{"name":"output_data","primitive_name":"output_data","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"Input 1"},"sink":{"operation":"less_than","data":"left_operand"},"control_points":[]},{"source":{"operation":"this","data":"Input 2"},"sink":{"operation":"less_than","data":"right_operand"},"control_points":[]},{"source":{"operation":"less_than","data":"is_less_than"},"sink":{"operation":"conditional_filter","data":"condition"},"control_points":[]},{"source":{"operation":"this","data":"Input 1"},"sink":{"operation":"conditional_filter","data":"data_if_true"},"control_points":[]},{"source":{"operation":"this","data":"Input 2"},"sink":{"operation":"conditional_filter","data":"data_if_false"},"control_points":[]},{"source":{"operation":"conditional_filter","data":"output_data"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]}],"links":[{"source":{"operation":"this","data":"Max Exact"},"sink":{"operation":"Log(Max Dist / max exact)","data":"Input"},"control_points":[]},{"source":{"operation":"this","data":"Rel Pos Abs"},"sink":{"operation":"Log(Rel Pos / max exact)","data":"Rel Pos"},"control_points":[{"x":435,"y":566}]},{"source":{"operation":"this","data":"Max Exact"},"sink":{"operation":"Log(Rel Pos / max exact)","data":"Max Exact"},"control_points":[{"x":497,"y":528}]},{"source":{"operation":"this","data":"Num Buckets"},"sink":{"operation":"subtract","data":"left_operand"},"control_points":[{"x":233,"y":850}]},{"source":{"operation":"this","data":"Max Exact"},"sink":{"operation":"subtract","data":"right_operand"},"control_points":[{"x":258,"y":888}]},{"source":{"operation":"Log(Rel Pos / max exact)","data":"Output"},"sink":{"operation":"divide","data":"left_operand"},"control_points":[{"x":1307,"y":336}]},{"source":{"operation":"Log(Rel Pos / max exact)","data":"Output"},"sink":{"operation":"Broadcast Target to Shape of Array","data":"Array"},"control_points":[{"x":1330,"y":566}]},{"source":{"operation":"Log(Max Dist / max exact)","data":"Output"},"sink":{"operation":"Broadcast Target to Shape of Array","data":"Target"},"control_points":[]},{"source":{"operation":"Broadcast Target to Shape of Array","data":"Output"},"sink":{"operation":"divide","data":"right_operand"},"control_points":[]},{"source":{"operation":"subtract","data":"subtracted_result"},"sink":{"operation":"Broadcast Target to Shape of Array (1)","data":"Target"},"control_points":[]},{"source":{"operation":"Log(Rel Pos / max exact)","data":"Output"},"sink":{"operation":"Broadcast Target to Shape of Array (1)","data":"Array"},"control_points":[]},{"source":{"operation":"Broadcast Target to Shape of Array (1)","data":"Output"},"sink":{"operation":"parse_decimal","data":"input"},"control_points":[]},{"source":{"operation":"parse_decimal","data":"output"},"sink":{"operation":"element_wise_multiply","data":"right_array"},"control_points":[]},{"source":{"operation":"divide","data":"divided_result"},"sink":{"operation":"element_wise_multiply","data":"left_array"},"control_points":[]},{"source":{"operation":"Broadcast Target to Shape of Array (1)","data":"Output"},"sink":{"operation":"Broadcast Num Buckets - 1","data":"Array"},"control_points":[]},{"source":{"operation":"subtract_1","data":"subtracted_result"},"sink":{"operation":"Broadcast Num Buckets - 1","data":"Target"},"control_points":[]},{"source":{"operation":"this","data":"Num Buckets"},"sink":{"operation":"subtract_1","data":"left_operand"},"control_points":[{"x":250,"y":980}]},{"source":{"operation":"element_wise_multiply","data":"multiplied_array"},"sink":{"operation":"parse_integer","data":"input"},"control_points":[]},{"source":{"operation":"Log(Rel Pos / max exact)","data":"Max Exact Broadcast"},"sink":{"operation":"parse_integer_1","data":"input"},"control_points":[{"x":1417,"y":192}]},{"source":{"operation":"parse_integer_1","data":"output"},"sink":{"operation":"add","data":"left_operand"},"control_points":[]},{"source":{"operation":"parse_integer","data":"output"},"sink":{"operation":"add","data":"right_operand"},"control_points":[]},{"source":{"operation":"add","data":"added_result"},"sink":{"operation":"Min 2 Arrays","data":"Input 1"},"control_points":[]},{"source":{"operation":"Broadcast Num Buckets - 1","data":"Output"},"sink":{"operation":"Min 2 Arrays","data":"Input 2"},"control_points":[{"x":3944,"y":366}]},{"source":{"operation":"Min 2 Arrays","data":"Output"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"conditional_filter","primitive_name":"conditional_filter","type":"PRIMITIVE_OPERATION","aliases":["conditional_merge","replace","where"],"position":{"x":3844,"y":150},"inputs":[{"name":"condition","primitive_name":"condition"},{"name":"data_if_true","primitive_name":"data_if_true"},{"name":"data_if_false","primitive_name":"data_if_false"}],"input_order":[1,0,2],"outputs":[{"name":"output_data","primitive_name":"output_data","flow_state":"UNBOUND"}]},{"name":"add","primitive_name":"add","type":"PRIMITIVE_OPERATION","aliases":["plus","increment"],"position":{"x":4328,"y":45},"inputs":[{"name":"left_operand","primitive_name":"left_operand"},{"name":"right_operand","primitive_name":"right_operand"}],"outputs":[{"name":"added_result","primitive_name":"added_result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"this","data":"relative pos"},"sink":{"operation":"greater_than","data":"left_operand"},"control_points":[]},{"source":{"operation":"this","data":"relative pos"},"sink":{"operation":"Broadcast Target to Shape of Array","data":"Array"},"control_points":[]},{"source":{"operation":"Broadcast Target to Shape of Array","data":"Output"},"sink":{"operation":"greater_than","data":"right_operand"},"control_points":[]},{"source":{"operation":"greater_than","data":"is_greater_than"},"sink":{"operation":"parse_integer","data":"input"},"control_points":[]},{"source":{"operation":"parse_integer","data":"output"},"sink":{"operation":"Broadcast Target to Shape of Array (1)","data":"Array"},"control_points":[]},{"source":{"operation":"divide because bidirectional","data":"divided_result"},"sink":{"operation":"Broadcast Target to Shape of Array (1)","data":"Target"},"control_points":[]},{"source":{"operation":"Broadcast Target to Shape of Array (1)","data":"Output"},"sink":{"operation":"element_wise_multiply","data":"right_array"},"control_points":[]},{"source":{"operation":"parse_integer","data":"output"},"sink":{"operation":"element_wise_multiply","data":"left_array"},"control_points":[]},{"source":{"operation":"this","data":"relative pos"},"sink":{"operation":"absolute_value","data":"target"},"control_points":[{"x":441,"y":654}]},{"source":{"operation":"divide because bidirectional","data":"divided_result"},"sink":{"operation":"max_exact","data":"left_operand"},"control_points":[]},{"source":{"operation":"max_exact","data":"divided_result"},"sink":{"operation":"broadcast max exact","data":"Target"},"control_points":[]},{"source":{"operation":"broadcast max exact","data":"max_exact_broad"},"sink":{"operation":"less_than","data":"right_operand"},"control_points":[]},{"source":{"operation":"absolute_value","data":"result"},"sink":{"operation":"less_than","data":"left_operand"},"control_points":[]},{"source":{"operation":"absolute_value","data":"result"},"sink":{"operation":"broadcast max exact","data":"Array"},"control_points":[{"x":2095,"y":654}]},{"source":{"operation":"max_exact","data":"divided_result"},"sink":{"operation":"Relative Position If Large","data":"Max Exact"},"control_points":[]},{"source":{"operation":"divide because bidirectional","data":"divided_result"},"sink":{"operation":"Relative Position If Large","data":"Num Buckets"},"control_points":[{"x":1532,"y":486}]},{"source":{"operation":"absolute_value","data":"result"},"sink":{"operation":"parse_decimal_2","data":"input"},"control_points":[{"x":2285,"y":654}]},{"source":{"operation":"parse_decimal_2","data":"output"},"sink":{"operation":"Relative Position If Large","data":"Rel Pos Abs"},"control_points":[{"x":3021,"y":524}]},{"source":{"operation":"less_than","data":"is_small"},"sink":{"operation":"conditional_filter","data":"condition"},"control_points":[{"x":3640,"y":244}]},{"source":{"operation":"Relative Position If Large","data":"Output"},"sink":{"operation":"conditional_filter","data":"data_if_false"},"control_points":[]},{"source":{"operation":"absolute_value","data":"result"},"sink":{"operation":"conditional_filter","data":"data_if_true"},"control_points":[{"x":2683,"y":654},{"x":3365,"y":206}]},{"source":{"operation":"element_wise_multiply","data":"relative_buckets"},"sink":{"operation":"add","data":"left_operand"},"control_points":[]},{"source":{"operation":"conditional_filter","data":"output_data"},"sink":{"operation":"add","data":"right_operand"},"control_points":[]},{"source":{"operation":"add","data":"added_result"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"Relative Attention Bias","type":"COMPOSITE_OPERATION","position":{"x":1168,"y":162},"inputs":[{"name":"Input","primitive_name":"Input"}],"outputs":[{"name":"Output","primitive_name":"Output","flow_state":"UNBOUND"}],"operations":[{"name":"read_from_file","primitive_name":"read_from_file","type":"PRIMITIVE_OPERATION","position":{"x":461,"y":166},"inputs":[{"name":"dir_path","data":"${Public T5 Encoder Base Dir Path}block.0/layer.0/SelfAttention/relative_attention_bias/","shape":[],"type":"TEXT","primitive_name":"dir_path","flow_state":"BOOT_SOURCE"},{"name":"file_name","data":"${weight_name}","shape":[],"type":"TEXT","primitive_name":"file_name","flow_state":"BOOT_SOURCE"},{"name":"extraction_schema","data":"{}","shape":[],"type":"TEXT","primitive_name":"extraction_schema","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"get_sub_arrays","primitive_name":"get_sub_arrays","type":"PRIMITIVE_OPERATION","aliases":["batch_get_sub_arrays","batch_get_subarrays","get_sub_arrays_by_batch","get_subarrays_by_batch","get_elements","get_sub_elements","get_subelements"],"position":{"x":1196,"y":331},"inputs":[{"name":"input","primitive_name":"input"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"},{"name":"selected_indices","primitive_name":"selected_indices"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"read_from_file","data":"output"},"sink":{"operation":"get_sub_arrays","data":"input"},"control_points":[{"x":831,"y":386}]},{"source":{"operation":"this","data":"Input"},"sink":{"operation":"get_sub_arrays","data":"selected_indices"},"control_points":[{"x":462,"y":462}]},{"source":{"operation":"get_sub_arrays","data":"output"},"sink":{"operation":"this","data":"Output"},"control_points":[]}]},{"name":"permute","primitive_name":"swap_dimensions","type":"PRIMITIVE_OPERATION","aliases":["swap_axis","swap_axes","change_dimensions","exchange_dimensions","transpose","permute"],"position":{"x":1687,"y":162},"inputs":[{"name":"array","primitive_name":"array"},{"name":"dimension_index_1","data":2,"shape":[],"type":"INTEGER","primitive_name":"dimension_index_1","flow_state":"BOOT_SOURCE"},{"name":"dimension_index_2","data":1,"shape":[],"type":"INTEGER","primitive_name":"dimension_index_2","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"swapped_array","primitive_name":"swapped_array","flow_state":"UNBOUND"}]},{"name":"permute_1","primitive_name":"swap_dimensions","type":"PRIMITIVE_OPERATION","aliases":["swap_axis","swap_axes","change_dimensions","exchange_dimensions","transpose","permute"],"position":{"x":2071,"y":162},"inputs":[{"name":"array","primitive_name":"array"},{"name":"dimension_index_1","data":1,"shape":[],"type":"INTEGER","primitive_name":"dimension_index_1","flow_state":"BOOT_SOURCE"},{"name":"dimension_index_2","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index_2","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"swapped_array","primitive_name":"swapped_array","flow_state":"UNBOUND"}]},{"name":"expand_one_dimension","primitive_name":"expand_one_dimension","type":"PRIMITIVE_OPERATION","aliases":["extend_one_dimension","increase_one_dimension"],"position":{"x":2535,"y":162},"inputs":[{"name":"input","primitive_name":"input"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"get batch size","primitive_name":"get_dimension_size","type":"PRIMITIVE_OPERATION","aliases":["get_dim_size","get_dimensional_size","get_dim_length","get_dimension_length","get_dimensional_length"],"position":{"x":2066,"y":638},"inputs":[{"name":"array","primitive_name":"array"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"dimension_size","primitive_name":"dimension_size","flow_state":"UNBOUND"}]},{"name":"expand_one_dimension_1","primitive_name":"expand_one_dimension","type":"PRIMITIVE_OPERATION","aliases":["extend_one_dimension","increase_one_dimension"],"position":{"x":2414,"y":638},"inputs":[{"name":"input","primitive_name":"input"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"outputs":[{"name":"output","primitive_name":"output","flow_state":"UNBOUND"}]},{"name":"get_shape","primitive_name":"get_shape","type":"PRIMITIVE_OPERATION","aliases":["shape","size","get_size"],"position":{"x":2546,"y":402},"inputs":[{"name":"input","primitive_name":"input"}],"outputs":[{"name":"shape","primitive_name":"shape","flow_state":"UNBOUND"}]},{"name":"concatenate","primitive_name":"concatenate","type":"PRIMITIVE_OPERATION","aliases":["concat","join","merge"],"position":{"x":3010,"y":404},"inputs":[{"name":"array_1","primitive_name":"array_1"},{"name":"array_2","primitive_name":"array_2"},{"name":"dimension_index","data":0,"shape":[],"type":"INTEGER","primitive_name":"dimension_index","flow_state":"BOOT_SOURCE"}],"input_order":[1,0,2],"outputs":[{"name":"concatenated_array","primitive_name":"concatenated_array","flow_state":"UNBOUND"}]},{"name":"broadcast_to_shape","primitive_name":"broadcast_to_shape","type":"PRIMITIVE_OPERATION","aliases":["tile_to_shape","expand_to_shape","extend_to_shape"],"position":{"x":3484,"y":162},"inputs":[{"name":"target","primitive_name":"target"},{"name":"shape","primitive_name":"shape"}],"outputs":[{"name":"result","primitive_name":"result","flow_state":"UNBOUND"}]}],"links":[{"source":{"operation":"Compute Relative Position Bias","data":"Output"},"sink":{"operation":"Relative Position Bucket","data":"relative pos"},"control_points":[]},{"source":{"operation":"Relative Position Bucket","data":"Output"},"sink":{"operation":"Relative Attention Bias","data":"Input"},"control_points":[]},{"source":{"operation":"this","data":"Input"},"sink":{"operation":"Compute Relative Position Bias","data":"Query"},"control_points":[{"x":201,"y":218}]},{"source":{"operation":"Relative Attention Bias","data":"Output"},"sink":{"operation":"permute","data":"array"},"control_points":[]},{"source":{"operation":"permute","data":"swapped_array"},"sink":{"operation":"permute_1","data":"array"},"control_points":[]},{"source":{"operation":"permute_1","data":"swapped_array"},"sink":{"operation":"expand_one_dimension","data":"input"},"control_points":[]},{"source":{"operation":"this","data":"Input"},"sink":{"operation":"get batch size","data":"array"},"control_points":[{"x":483,"y":694}]},{"source":{"operation":"get batch size","data":"dimension_size"},"sink":{"operation":"expand_one_dimension_1","data":"input"},"control_points":[]},{"source":{"operation":"expand_one_dimension","data":"output"},"sink":{"operation":"broadcast_to_shape","data":"target"},"control_points":[]},{"source":{"operation":"permute_1","data":"swapped_array"},"sink":{"operation":"get_shape","data":"input"},"control_points":[]},{"source":{"operation":"expand_one_dimension_1","data":"output"},"sink":{"operation":"concatenate","data":"array_1"},"control_points":[]},{"source":{"operation":"get_shape","data":"shape"},"sink":{"operation":"concatenate","data":"array_2"},"control_points":[]},{"source":{"operation":"concatenate","data":"concatenated_array"},"sink":{"operation":"broadcast_to_shape","data":"shape"},"control_points":[]},{"source":{"operation":"broadcast_to_shape","data":"result"},"sink":{"operation":"this","data":"Pos Bias"},"control_points":[]}],"global_constants":[{"name":"config.json.relative_attention_num_buckets","data":32,"shape":[],"type":"INTEGER","primitive_name":"config.json.relative_attention_num_buckets"},{"name":"config.json.relative_attention_max_distance","data":128,"shape":[],"type":"INTEGER","primitive_name":"config.json.relative_attention_max_distance"}]}